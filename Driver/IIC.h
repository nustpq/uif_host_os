/****************************************Copyright (c)**************************************************
**                                    driver program for lpc2100
**
**--------------文件信息--------------------------------------------------------------------------------
** 文件名: IIC.h
** 创建人: WAN.CG
** 日  期: 2007.8.16
** 描  述: μCOS-II下LPC210x的I2c主模式底层驱动头文件
**
**--------------当前版本修订------------------------------------------------------------------------------
** 修改人: 
** 日　期: 
** 描　述: 
**
**------------------------------------------------------------------------------------------------------
********************************************************************************************************/

#ifndef _IIC_H_
#define _IIC_H_

extern int8u I2cInit(int32u FI2c);
/*********************************************************************************************************
** 函数名称: I2cInit
** 功能描述: 初始化I2c为（主模式）
** 输  　入: FI2c:I2c总线频率
**
** 输　  出: TRUE  :成功
**           FALSE:失败
** 全局变量: UseI2cTaskPro
** 调用模块: OSSemCreate
********************************************************************************************************/

extern int16u I2cWrite(int8u Addr, int8u *Data, int16s NByte);
/*********************************************************************************************************
** 函数名称: I2cWrite
** 功能描述: 向I2C从器件写数据 
** 输  　入: Addr:从机地址
**           Data:指向将要写的数据的指针
**           NByte:写的数据数目
** 输　  出: 发送的数据字节数
**
** 全局变量: I2cSem,I2cNbyte
** 调用模块: OSSemPend,__I2cWrite,OSSemPost
********************************************************************************************************/

extern int16s I2cRead(int8u Addr, int8u *Ret, int8u *Eaddr, int16s EaddrNByte, int16s ReadNbyte);
/*********************************************************************************************************
** 函数名称: I2cRead
** 功能描述: 从I2c从器件读数据
** 输　  入: Addr:从机地址
**           Ret:指向返回数据存储位置的指针
**           Eaddr:扩展地址存储位置
**           EaddrNByte:扩展地址字节数，0为无
**           ReadNbyte:将要读取的字节数目
** 输   　出:已读取的字节数
** 全局变量: I2cSem,I2cAddr,I2cNbyte,I2cBuf
** 调用模块: OSSemPend,__I2cWrite,OSMboxPend,OSSemPost
********************************************************************************************************/

extern void I2c_Exception(void);
/*********************************************************************************************************
** 函数名称: I2c_Exception
** 功能描述: I2c中断服务程序
** 输  　入: 无
**
** 输  　出: 无
**         
** 全局变量: I2cAddr,I2cBuf,I2cNbyte,I2cMbox
** 调用模块: OSMboxPost
********************************************************************************************************/
#endif
/*********************************************************************************************************
**                            End Of File
********************************************************************************************************/
